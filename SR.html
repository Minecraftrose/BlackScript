<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Sk√§rm Inspelare üñ•Ô∏è</title>
    <style>
      button {
        border: none;
        padding: 10px;
        border-radius: 5px;
        font-size: 16px;
        font-weight: bold;
        margin-right: 10px;
      }

      #startButton {
        background-color: #4CAF50;
        color: white;
      }

      #stopButton {
        background-color: #f44336;
        color: white;
        opacity: 0.5;
        cursor: not-allowed;
      }

      #stopButton:enabled {
        opacity: 1;
        cursor: pointer;
      }
	  .go-to-website-button {
  background-color: #000000; /* Black */
  color: #FFFFFF; /* White */
  border: none;
  padding: 10px;
  font-size: 24px;
  cursor: pointer;
}
.header {
    background-color:limegreen;
    color:white;
    text-align:center;
    padding:5px;
}
.nav {
    line-height:30px;
    background-color:limegreen;
	color:white;
    height:420px;
    width:180px;
    float:left;
    padding:5px; 
}
.main {
    width:950px;
    float:left;
    padding:60px; 
}
.fot {
    background-color:black;
    color:white;
    clear:both;
    text-align:center;
    padding:5px; 
}
.img {
    margin: 10px;
    padding: 5px;
	padding-left:5px;
    border: 1px solid #0000ff;
    height: auto;
    width: auto;
    float: right;
    text-align: center;
}
    </style>
  </head>
  <body>
  <div class="header"><H1>Sk√§rm Inspelare üñ•Ô∏è</H1></div>
  <div class="nav">
  <div class="main">
  <div class="img">
     <video id="recorded" controls width="600" height="350"></video>
	 <br>
	 <button id="startButton" onclick="startRecording()">Spela in</button>
    <button id="stopButton" onclick="stopRecording()" disabled>Sluta Spela in</button>
	<a href="./Screen-Recorder.html" class="go-to-website-button">&#x21bb;</a>
    <script>
      var i = document.createElement('div');
i.id = 'img';
document.getElementsByTagName('body')[0].appendChild(i);
i.innerHTML = '';
	  let stream;
      let recorder;
      let chunks = [];
      const videoElement = document.getElementById('recorded');
      const startButton = document.getElementById('startButton');
      const stopButton = document.getElementById('stopButton');

      function startRecording() {
        navigator.mediaDevices.getDisplayMedia({
          video: true,
          audio: true
        }).then(function(s) {
          stream = s;
          recorder = new MediaRecorder(stream);

          recorder.ondataavailable = function(e) {
            chunks.push(e.data);
          }

          recorder.onstop = function() {
            const videoBlob = new Blob(chunks, { type: 'video/mp4' });
            const videoUrl = URL.createObjectURL(videoBlob);
            videoElement.src = videoUrl;
            const downloadLink = document.createElement('a');
            downloadLink.href = videoUrl;
            downloadLink.download = 'screen-recording.mp4';
            document.body.appendChild(downloadLink);
            downloadLink.click();
          }

          recorder.start();
          startButton.disabled = true;
          stopButton.disabled = false;
        });
      }

      function stopRecording() {
        recorder.stop();
        stream.getVideoTracks()[0].stop();
        stream.getAudioTracks()[0].stop();
        startButton.disabled = false;
        stopButton.disabled = true;
      }
    </script>
  </body>
</html> 	 
